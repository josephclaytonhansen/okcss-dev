<script setup>import{ref,watch} from 'vue' import PersonCard from './PersonCard.vue' import Location from './Location.vue' import Tools from './Tools.vue' import{Contact2, Calendar, HeartHandshake, ListTodo} from 'lucide-vue-next' import HomeBack from './HomeBack.vue'const props=defineProps({ size:{String, default: 'full'}, colorClass: String, contacts: Array, organizations: Array, ward: String, events: Array, tools: Array, worship:{ location:{ address: String, city: String, state: String, zip: String}, time: String, googleMapsLink: String, image:{ src: String, alt: String, width: String, class: String}}})const currentTab=ref('contacts')function tabChanged(tab){ console.log(tab) currentTab.value=tab}function setPersonClasses(size, ward){ let s='row person fwc' if (size==='full'){ s=s + ' col-6' + ' ' + ward} else{ s=s + ' col-3' + ' ' + ward} return s}function filterContactsByOrganization(organization){ return props.contacts.filter(contact=>contact.organization===organization)}watch(currentTab, tabChanged)</script><template><HomeBack :ward="ward"/><section class="tabs" :class="ward"><div class="tab-content"><div v-if="currentTab==='contacts'"><div v-for="organization in organizations"><details :open="organization==='Bishopric'"><summary><h2>{{organization}}</h2></summary><div class="row wrap"><PersonCard v-for="contact in filterContactsByOrganization(organization)" :key="contact.id" :name="contact.name" :image="contact.image" :position="contact.position" :email="contact.email" :phone="contact.phone" :classes="setPersonClasses(contact.size, ward)" :size="contact.size"/></div></details></div></div><div v-else-if="currentTab==='events'"></div><div v-else-if="currentTab==='tools'"><Tools :sbmrHTML="'<p>Add a tool here</p>'" :sbuHTML="'<p>Add a tool here</p>'" :striHTML="'<p>Add a tool here</p>'" :sutftmHTML="'<p>Add a tool here</p>'" :vsoHTML="'<p>Add a tool here</p>'" :vsrcHTML="'<p>Add a tool here</p>'" :vtpcHTML="'<p>Add a tool here</p>'" /></div><div v-else-if="currentTab==='worship'"><Location :location="worship.location" :time="worship.time" :googleMapsLink="worship.googleMapsLink" :image="worship.image"/></div></div><div class="tab-row row flex-between wrap"><div class="tab-row-tabs row"><div class="tab" :class="{activeTab: currentTab==='contacts'}" @click="currentTab='contacts'"><div class="tab-overlay" :class="{active: currentTab==='contacts'}"/><h3><Contact2 style="margin-bottom:-.25rem;" class="ht"/>Contacts</h3></div><div class="tab" :class="{activeTab: currentTab==='events'}" @click="currentTab='events'"><div class="tab-overlay" :class="{active: currentTab==='events'}"/><h3><Calendar style="margin-bottom:-.25rem;" class="ht"/>Events</h3></div><div class="tab" :class="{activeTab: currentTab==='tools'}" @click="currentTab='tools'"><div class="tab-overlay" :class="{active: currentTab==='tools'}"/><h3><ListTodo style="margin-bottom:-.25rem;" class="ht"/>Tools</h3></div><div class="tab" :class="{activeTab: currentTab==='worship'}" @click="currentTab='worship'"><div class="tab-overlay" :class="{active: currentTab==='worship'}"/><h3><HeartHandshake style="margin-bottom:-.25rem;" class="ht"/>Worship</h3></div></div><p id="submit-correction">Contact<a href="mailto:josephclaytonhansen@gmail.com">Joseph Hansen</a>to request edit access.<br/><span id='disclaimer'>OKCSouthStake.org is not affiliated with, edited, reviewed, or maintained by The Church of Jesus Christ of Latter Day Saints.</span></p></div></section></template><style>.tabs{ margin-top:4rem;}details{ margin-bottom:1rem}summary{ transition: 0.3s all; width:fit-content}body.light summary{ color: var(--gray)}body.dark summary{ color: var(--off-white)}summary:hover{ cursor:pointer}body.light summary:hover{ background-color: var(--lightest-gray)}body.dark summary:hover{ background-color: var(--gray)}details[open] summary{ color: var(--active-color); margin-bottom:1rem}details h2{ display:inline}.tab-content{ height:80vh; width:100%; overflow-y:auto}.tab-row{ align-items:start!important}.tab-row-tabs{ gap: 0 !important; padding-left:2rem; margin-top:-0.5rem}.tab{ padding: 0.5rem 1rem; border-radius: 0px 0px 8px 8px; overflow:hidden; transition: 0.2s all; cursor: pointer}body.light .tab:hover{ background-color: var(--lightest-gray)}body.dark .tab:hover{ background-color: var(--gray)}.activeTab{ padding: 0.75rem 2rem; margin-top:.5rem}.tab h3{ margin-top: .25rem; margin-bottom:.25rem; position:relative; z-index:10}.tab-overlay{ padding-bottom: 9999px; margin-bottom: -9999px; background-color: var(--active-color); width: 200%; margin-left:-999px; padding-left:999px; transition: .3s all; transform: translateY(2rem); pointer-events: none; position:relative; z-index:1}.activeTab .tab-overlay{ transform:translateY(-2rem)}body.dark .tab-content{ border-bottom: solid 1px var(--gray)}body.light .tab-content{ border-bottom: solid 1px var(--lighter-gray)}body.light .tab{ border: solid 1px var(--lighter-gray)}body.dark .tab{ border: solid 1px var(--gray)}#submit-correction{ align-self:start; text-align: right}#disclaimer{ font-size:50%}.Choctaw{ --active-color: var(--color1)}.Midwest-City{ --active-color: var(--color2)}.OKC-2nd{ --active-color: var(--color3)}.Moore{ --active-color: var(--color4)}.OKC-6th-Branch{ --active-color: var(--color5)}.Mustang-2nd{ --active-color: var(--color6)}.Mustang-1st{ --active-color: var(--color7)}</style>