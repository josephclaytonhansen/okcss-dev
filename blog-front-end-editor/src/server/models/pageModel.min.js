import mongoose from"mongoose";const pageSchema=new mongoose.Schema({title:{type:String,index:!0},meta_title:{type:String,index:!0},meta_description:{type:String,index:!0},meta_keywords:{type:String,index:!0},content:{type:String,index:!0},slug:{type:String,unique:!0},status:{type:String,default:"draft"},author:{type:mongoose.Schema.Types.ObjectId,ref:"User"},views:{type:Number,default:0}});pageSchema.pre("validate",(function(e){this.slug||(this.slug=this.name.toLowerCase().replace(/ /g,"-")),e()})),pageSchema.post("save",(function(e){this.slug||(this.slug=this.name.toLowerCase().replace(/ /g,"-"),this.save())}));const Page=mongoose.model("Page",pageSchema);Page.createIndexes();export default Page;