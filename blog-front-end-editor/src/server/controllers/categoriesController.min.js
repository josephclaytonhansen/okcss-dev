import asyncHandler from"../middleware/asyncHandler.min.js";import Category from"../models/categoriesModel.min.js";const getCategories=asyncHandler((async(a,e)=>{const t=await Category.find({});e.json(t)})),getCategoryById=asyncHandler((async(a,e)=>{const t=await Category.findById(a.params.id);if(!t)throw e.status(404),new Error("category not found");e.json(t)})),updateCategory=asyncHandler((async(a,e)=>{const{name:t}=a.body,o=await Category.findById(a.params.id);if(!o)throw e.status(404),new Error("category not found");{o.name=t;const a=await o.save();e.json(a)}})),deleteCategory=asyncHandler((async(a,e)=>{const t=await Category.findById(a.params.id);if(!t)throw e.status(404),new Error("category not found");await t.remove(),e.json({message:"category removed"})})),createCategory=asyncHandler((async(a,e)=>{const{name:t}=a.body,o=await Category.create({name:t});if(!o)throw e.status(400),new Error("Invalid category data");e.status(201).json({_id:o._id,name:o.name})}));export{getCategories,getCategoryById,updateCategory,deleteCategory,createCategory};