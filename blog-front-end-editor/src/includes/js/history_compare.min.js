$(".lightbox-modal-close").on("click",(function(){$(".lightbox-modal").addClass("hidden"),$("#editor-grid").css("pointer-events","auto")}));let ll=0,rr=1;function populateHistory(t=0,e=1){let r=$("#history-storage").text();r=r.split(',{"time');let a=-1;r.forEach((t=>{a+=1,t.startsWith('{"time')||(r[a]='{"time'+t)})),r.sort((function(t,e){let r=JSON.parse(t).time;return JSON.parse(e).time-r}));let l=r[t],i=r[e],o=JSON.parse(i).time;o=new Date(o),o=o.toLocaleDateString()+" "+o.toLocaleTimeString();let s=JSON.parse(l).time;s=new Date(s),s=s.toLocaleDateString()+" "+s.toLocaleTimeString(),$("#left-time").text(o),$("#right-time").text(s);let d=JSON.parse(i).blocks,p="",h="";JSON.parse(l).blocks.forEach((t=>{if("paragraph"==t.type)p+="<p>"+t.data.text+"</p>";else if("header"==t.type){let e=t.data.level;p+="<h"+e+">"+t.data.text+"</h"+e+">"}else p+="<p>"+t.type+" - "+t.data.text+"</p>"})),d.forEach((t=>{if("paragraph"==t.type)h+="<p>"+t.data.text+"</p>";else if("header"==t.type){let e=t.data.level;h+="<h"+e+">"+t.data.text+"</h"+e+">"}else h+="<p>"+t.type+" - "+t.data.text+"</p>"})),$("#r-right").html(p),$("#r-left").html(h)}populateHistory(ll,rr),$("#left-arrow").on("click",(function(){try{let t=$("#history-count").text().split(" ")[1];ll<t&&($("#left-arrow").removeClass("disabled"),ll+=1,rr+=1,populateHistory(ll,rr)),ll==t&&$("#left-arrow").addClass("disabled"),$("#right-arrow").removeClass("disabled")}catch(t){$("#left-arrow").addClass("disabled")}$("#right-arrow").removeClass("disabled")})),$("#right-arrow").on("click",(function(){try{rr>0&&($("#right-arrow").removeClass("disabled"),ll-=1,rr-=1,populateHistory(ll,rr)),0==rr&&($("#right-arrow").addClass("disabled"),$("#left-arrow").removeClass("disabled"))}catch{$("#right-arrow").addClass("disabled"),$("#left-arrow").removeClass("disabled")}}));